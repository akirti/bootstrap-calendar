(function(e){var d={afterChange:null,label:null};var a=new Array("January","February","March","April","May","June","July","August","September","October","November","December");var b=null;var f=null;var c=null;var g={init:function(h){var i=this;return this.each(function(){var l=e(this);var k=e.extend(k,h);if(k.label){f=k.label}if(l.find("ul")){b=l.find("ul:eq(0)")}for(var j=0;j<a.length;j++){b.append(e("<li/>").append(e("<a/>",{href:"#","data-idx":j}).html(a[j])))}c=1;l.monthSelector("updateLabel");b.find("li").eq(c-1).addClass("active");b.find("> li > a").on("click",function(n){n.preventDefault();var m=e(this);c=parseInt(m.attr("data-idx"))+1;l.monthSelector("updateLabel");b.find("> li").removeClass("active");m.parent().addClass("active");l.removeClass("open");if(k.afterChange){k.afterChange.call(this,l.monthSelector("getMonth"))}return false})})},getMonth:function(){return{number:c,label:a[c-1]}},updateLabel:function(){f.html(a[c-1])}};jQuery.fn.monthSelector=function(h){if(h&&g[h]){return g[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return g.init.apply(this,arguments)}else{e.error("Method "+h+" does not exist on jQuery.monthSelector")}}}})(jQuery);(function(e){var c={onDayClick:null};var f=2013;var j=1;var l=1;var h=new Array("January","February","March","April","May","June","July","August","September","October","November","December");var i=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var m=function(n){if((f%4==0&&f%100!=0)||f%400==0){return 29}else{return i[n-1]}};var k=function(n){if(n){var o=new Array();e.each(d,function(q,p){if((p.year==f)&&(p.month==j)&&(p.day==n)){o.push(p)}});return o}};var g=null;var d=null;var a=null;var b={init:function(n){return this.each(function(){var q=e(this);var p=e.extend(p,n);var o=n.start_date;if(!o){var r=new Date();o={year:r.getFullYear(),month:r.getMonth(),day:r.getDay()}}f=(isNaN(o.year)||o.year==null)?f:o.year;j=(isNaN(o.month)||o.month==null)?j:o.month;l=(isNaN(o.day)||o.day==null)?l:o.day;if(n.events){d=n.events}e.get("views/dialog-events.html",function(s){a=e(s);a.attr("id","_"+new Date().getTime());e("body").append(a);q.bootCal("render")})})},render:function(){return this.each(function(){var u=e(this);u.removeClass("in");u.find("ul.thumbnails").remove();var v=m(j);var w=Math.ceil(v/5);var x=1;for(var q=0;q<w;q++){var r=e("<ul/>").addClass("thumbnails").appendTo(u);for(var p=0;p<5;p++){var t=e("<li/>").addClass((q==0?"offset1 ":"")+"span2").appendTo(r);var n=e("<a/>",{href:"#","data-day":x}).addClass("thumbnail").appendTo(t);var o=e("<span/>").addClass("day label label-info").html(x).appendTo(n);var s=0;if(d){e.each(d,function(z,y){if((y.year==f)&&(y.month==j)&&(y.day==x)){n.append(e("<div/>").addClass("event").html(y.title));s++}})}if(s>0){n.append(e("<span/>").addClass("counter badge badge-success").html("x "+s))}x++;if(x>v){break}}if(x>v){break}}u.find("a.thumbnail").on("click",function(A){A.preventDefault();var y=e(this).attr("data-day");var z=k(y);u.bootCal("showEvents",z);return false});u.addClass("in")})},showEvents:function(n){return this.each(function(){var s=e(this);if(n.length==0){var r=e("<div/>").addClass("well well-large").html("No appointments found")}else{var r=e("<table/>").addClass("eventlist table");r.html("<thead></thead><tbody></tbody>");var o=r.find("tbody");var p=e("<tr/>").appendTo(r.find("thead"));p.append(e("<th/>").html("Event Title"));p.append(e("<th/>").html("Time of Appointment"));e.each(n,function(u,t){var v=e("<tr/>").appendTo(o);v.append(e("<td/>").html(t.title));v.append(e("<td/>").html(t.time))})}var q=a.find(".modal-body");q.html("").append(r);a.modal("show")})},setDate:function(o,p,n){return this.each(function(){var q=e(this);f=(isNaN(o)||o==null)?f:o;j=(isNaN(p)||p==null)?j:p;l=(isNaN(n)||n==null)?l:n;q.bootCal("render")})}};jQuery.fn.bootCal=function(n){if(n&&b[n]){return b[n].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof n==="object"||!n){return b.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist on jQuery.bootCal")}}}})(jQuery);window.bootcal={};(function(a){a.monthselector=null;a.calendar=null;a.progress=0;a.progressbar=null})(bootcal);$(document).ready(function(){bootcal.progressbar=$("#bc-progress").show();bootcal.progressbar.addClass("in").find(".indicator").html("Initialising..").next().find(".bar").css({width:bootcal.progress+"%"});var a=setInterval(function(){bootcal.progress+=10;if(bootcal.progress>=100){bootcal.progress=0}bootcal.progressbar.find(".bar").css({width:bootcal.progress+"%"})},50);bootcal.monthselector=$("#bc-month-selector").monthSelector({afterChange:function(b){bootcal.calendar.bootCal("setDate",2013,b.number,1)},label:$("#bc-month-selector .monthlabel")}).addClass("in");$.get("data/get/events.json",function(b){bootcal.calendar=$("#bc-calendar-widget").bootCal({events:b}).addClass("in")});clearInterval(a);a=null;bootcal.progress=100;bootcal.progressbar.find(".bar").css({width:bootcal.progress+"%"});setTimeout(function(){bootcal.progressbar.removeClass("in").hide()},800)});